!function(){"use strict";angular.module("hippo.cms",["ngCookies","ui.router","ui.bootstrap","pascalprecht.translate","hippo.theme"]).config(["$translateProvider","$translatePartialLoaderProvider",function(a,b){b.addPart("components/hippo-cms/dist"),a.useMissingTranslationHandlerLog(),a.useLoader("$translatePartialLoader",{urlTemplate:"{part}/i18n/{lang}.json"}),a.preferredLanguage("en")}]).run(["$rootScope","$translate","$cookies",function(a,b,c){function d(){var a=$("#top-bar").outerHeight(),b=$(window).height()-a-2;if($(".page-detail .detail-row-container").css({height:b}),navigator.userAgent.match(/iPad;.*CPU.*OS 7_\d/i)){var c=$(window).innerHeight()-a-20;$(".sidebar").height(c)}if(IE.isTheBrowser){var d=$(window).height()-a-$(".sidebar .bottom").outerHeight()-2;$(".sidebar .content").height(d)}}c["angular-locale"]&&b.uses(c["angular-locale"]),a.$on("$translatePartialLoaderStructureChanged",function(){b.refresh()}),a.$on("$viewContentLoaded",function(){d()}),a.$on("doLayout",function(){d()}),$(window).on("resize",d),$(window).on("hashchange",d)}])}(),function(){"use strict";angular.module("hippo.cms").provider("hippo.cms.Perspectives",[function(){var a=[{state:"dashboard",title:"GLOBAL_NAVIGATION.HOME",icon:"fa-home"},{state:"channel-manager",title:"GLOBAL_NAVIGATION.CHANNEL_MANAGER",icon:"fa-desktop"},{state:"documents",title:"GLOBAL_NAVIGATION.DOCUMENTS",icon:"fa-folder"}],b="dashboard";this.add=function(b,c){a.push({state:b,title:c.title,icon:c.icon})},this.activate=function(a){b=a},this.$get=function(){return{active:function(){return b},list:function(){return a}}}}]).provider("hippo.cms.UserNavigation",[function(){var a=[];this.addItem=function(b){a.push(b)},this.$get=function(){var b={};return b.getAll=function(){return a},b}}]).service("hippo.cms.PageTitle",[function(){return{value:""}}]).run(["$state","hippo.cms.Perspectives",function(a,b){a.transitionTo(b.active())}])}(),function(){"use strict";angular.module("hippo.cms").directive("hippo.cms.breadcrumb",["hippo.plugins.url",function(a){return{restrict:"A",replace:!0,templateUrl:a("hippo-cms","modules/breadcrumbs/breadcrumb.html"),scope:{items:"="}}}])}(),function(){"use strict";angular.module("hippo.cms").controller("_hippo.cms.GlobalNavigationCtrl",["$scope","$rootScope","hippo.theme.URLParser","$state","hippo.cms.PageTitle","hippo.cms.UserNavigation","hippo.cms.Perspectives",function(a,b,c,d,e,f,g){a.state=d,a.pageTitle=e,a.navigation={parentState:g.active(),currentState:d.current},a.userNavigationItems=f.getAll(),a.perspectives=g.list(),a.home=g.active(),a.plugin="hippo-cms",b.$on("$stateChangeSuccess",function(){a.navigation.parentState=c.getParent()}),a.getStateUrl=function(a){return d.href(a)},a.goBack=function(){null==a.navigation.parentState?d.go(a.home):d.go(a.navigation.parentState.name)}}]).directive("hippo.cms.globalNavigation",["hippo.plugins.url",function(a){return{restrict:"A",replace:!0,templateUrl:a("hippo-cms","modules/global-navigation/global-navigation.html")}}]).filter("hippo.cms.truncate",function(){return function(a,b,c){return isNaN(b)&&(b=10),void 0===c&&(c="..."),a.length<=b||a.length-c.length<=b?a:String(a).substring(0,b-c.length)+c}})}(),function(){"use strict";angular.module("hippo.cms").controller("hippo.cms.TopBarCtrl",["$scope","hippo.cms.UserNavigation",function(a,b){a.tabs=b.getAll(),a.activeTabUrl=""}]).directive("hippo.cms.topBar",["hippo.plugins.url",function(a){return{restrict:"A",replace:!0,templateUrl:a("hippo-cms","modules/top-bar/top-bar.html")}}])}();